# Code for "Dynamic involvement of the core gut microbiome XNP_Guild1 in the evolution of gestational diabetes mellitus "

This repository contains the Python analysis scripts used for the computational analyses in the manuscript: "Dynamic involvement of the core gut microbiome XNP_Guild1 in the evolution of gestational diabetes mellitus".

## Overview

The scripts provided are the primary analysis pipelines used to generate the machine learning and network analysis results presented in the manuscript.

## Script Descriptions

The provided Python scripts (`.py`) correspond to the main analyses as follows:

* `Random Forest.py`: Executes the  Random Forest modeling pipeline. (Related to Figure 2A).

* `GDM_non-GDM_Network_Construction.py`: Runs the pipeline to construct the GDM and non-GDM co-occurrence networks separately from the OTU tables. This script performs filtering, CLR transformation, Spearman correlation, and FDR correction. It generates the network files (Related to Extended Data Figure 3 & 4) and calculates their properties (Related to Extended Data Table 10).

* `Stable Network Construction.py`: Loads the GDM and non-GDM network edge lists.It identifies and saves the "stable network" â€“ consisting only of edges present in both networks that share a consistent correlation sign (Related to Extended Data Figure 5)

* `Topological analysis.py`: Performs topological analysis. This script calculates metrics for XNP_Guild 1 (e.g., centrality, density), compares them against 1,000 random networks to generate Z-score data (Data for Fig 4D), and runs the structural robustness simulation (Data for Fig 4E).

* `Z-score Visualization.py`: Loads the Z-score data generated by Topological analysis.py and visualizes the results as a bar chart (Plot for Fig 4D).

* `OTU-46 social network changes.py`: Executes the ego-network analysis to compare the local connectivity and neighbor rewiring of the hub microbe `OTU-46` between the GDM and non-GDM states (Related to Extended Data Figure 7).


## Core Dependencies

The analysis pipelines rely on the following key Python libraries:

* `scikit-learn`
* `statsmodels`
* `scipy`
* `pandas`
* `numpy`
* `networkx`
* `matplotlib`
* `seaborn`

## How to Run

1.  Install the required dependencies (e.g., `pip install scikit-learn pandas networkx shap imbalanced-learn statsmodels`).
2.  Execute the desired analysis script in a Python environment. For example:
    ```sh
    python "Random Forest.py"
    ```

## Data Availability
The newly established prospective cohort data is available from the corresponding author upon reasonable request. Publicly available datasets used in this study are cited in the main manuscript's Data Availability section.
